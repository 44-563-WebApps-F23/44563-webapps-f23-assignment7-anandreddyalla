<!DOCTYPE html>
<html lang="en">

<head>
    <title>Pirate Webpage</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
    <header class="bg-dark text-light text-center py-4">
        <h2
            style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">
            Find the treasure by Ananda Reddy Alla</h2>
    </header>
    <div class="container mt-4">
        <div class="row">
            <div class="col-lg-12 ">

                <div class="alert bg-danger text-white" style="height: 50px;">
                    <p>Click on the locations to search for treasure, beware the traps</p>
                </div>

                <div id="locations" class="alert bg-primary text-white" style="height: 50px;">
                    <p>Number of locations checked is zero.</p>
                </div>

                <div id="penalty" class="alert bg-info text-white" style="height: 50px;">
                    <p>Penalty is zero</p>
                </div>
                <div style="text-align: center;">
                    <a id="help-button" onclick="help()" class="btn btn-secondary text-white"
                        style="text-align: center;">Click for help</a>
                </div>
                <br>
                <div id="help" class="alert bg-success text-white" style="height: 50px;">
                    <p>Help report</p>
                </div>
                <div style="text-align: center;">
                    <button type="button" class="btn btn-primary" onclick="newGame()">New Game</button>
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row>">
                <div class="col-lg-12">
                    <p><b>5 by 5 display of Images</b></p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-2 col-md-6" id="location0" onclick="check(0)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location1" onclick="check(1)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location2" onclick="check(2)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location3" onclick="check(3)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location4" onclick="check(4)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-lg-2 col-md-6" id="location5" onclick="check(5)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location6" onclick="check(6)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location7" onclick="check(7)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location8" onclick="check(8)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location9" onclick="check(9)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-lg-2 col-md-6" id="location10" onclick="check(10)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location11" onclick="check(11)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location12" onclick="check(12)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location13" onclick="check(13)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location14" onclick="check(14)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-lg-2 col-md-6" id="location15" onclick="check(15)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location16" onclick="check(16)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location17" onclick="check(17)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location18" onclick="check(18)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location19" onclick="check(19)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-lg-2 col-md-6" id="location20" onclick="check(20)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location21" onclick="check(21)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location22" onclick="check(22)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location23" onclick="check(23)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
                <div class="col-lg-2 col-md-6" id="location24" onclick="check(24)">
                    <img src="Images/Location.jpg" alt="Location" width="100px" height="100px">
                </div>
            </div>
        </div>
        <p style="margin-bottom: 100px;"></p>

        <script>
            var ids = [];
            for (var i = 0; i < 25; i++) {
                ids.push("location" + i);
            }

            var checkCount =0 ;
            var penalty = 0;
            var lastCheck = 0;
            var treasureLocation = Math.floor(Math.random() * 24);
            var trapLocation = Math.floor(Math.random() * 24);
            var gameOver = false;

            function check(position) {
                if (gameOver) return;

                var id = ids[position];
                var location = document.getElementById(id);
                var img = location.querySelector("img");

                if (position === treasureLocation) {
                    img.src = "Images/Treasure.jpg";
                    gameOver = true;
                    penalty -= 3;
                } else if (position === trapLocation) {
                    img.src = "Images/Trap.jpg";
                    gameOver = true;
                    penalty += 4;
                } else {
                    img.src = "Images/Pirate.png";
                    penalty++;
                }

                checkCount++;
                document.getElementById("locations").textContent = `Number of locations checked is: ` + checkCount;
                document.getElementById("penalty").textContent = `Penalty is: ` + penalty;
                lastCheck = position;
            }

            // Function to provide help
            function help() {
                if (gameOver) return;

                // Calculate row and column for treasure and last location
                const rowTreasure = Math.floor(treasureLocation / 5);
                const colTreasure = treasureLocation % 5;
                const rowLastCheck = Math.floor(lastCheck / 5);
                const colLastCheck = lastCheck % 5;

                let helpText = "";

                // Determine help based on distance
                const rowDifference = Math.abs(rowTreasure - rowLastCheck);
                const colDifference = Math.abs(colTreasure - colLastCheck);

                if (rowDifference + colDifference === 1) {
                    helpText = "Can smell it";
                } else if (rowDifference + colDifference === 2) {
                    helpText = "Close Matie";
                    penalty += 2;
                } else {
                    helpText = "Step Faster";
                    penalty += 2;
                }

                // Update the text on the help element
                document.getElementById("help").textContent = helpText;
                document.getElementById("penalty").textContent = `Penalty is: ` + penalty;
            }

            function newGame() {
                treasureLocation = Math.floor(Math.random() * 24);
                trapLocation = Math.floor(Math.random() * 24);
                checkCount = 0
                penalty = 0
                lastCheck = 0
                gameOver = false
                document.getElementById("penalty").textContent = "Penalty is 0";
                document.getElementById("locations").textContent = "Number of locations checked is 0";
                for (i = 0; i < 25; i++) {
                    document.getElementById(ids[i]).querySelector("img").src= "Images/Location.jpg";
                }
            }

            // Set the onClick property for "Click for help"
            document.getElementById("help").onclick = help;
        </script>


</body>

</html>